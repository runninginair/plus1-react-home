{"ast":null,"code":"import _defineProperty from \"/Users/tylerzhang/2023/spring/frontend-plus1/plus1-home/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/tylerzhang/2023/spring/frontend-plus1/plus1-home/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _extraReducers;\nimport { createSlice } from \"@reduxjs/toolkit\";\n// import tuits from '../data/tuits.json';\nimport // import the thunks\n{ createActivityThunk, updateActivityThunk, findActivitiesThunk, deleteActivityThunk } from \"../../services/activities-thunks\";\nvar initialState = {\n  // initial state has no tuits \n  activities: [],\n  // no tuits\n  loading: false // loading flag to display spinner\n};\n\nvar tuitsSlice = createSlice({\n  name: 'activities',\n  initialState: initialState,\n  // same as \"initialState\": initialState\n  extraReducers: (_extraReducers = {}, _defineProperty(_extraReducers, findActivitiesThunk.pending,\n  // if request is not yet fulfilled …\n  function (state) {\n    state.loading = true; // set loading true so UI can display spinner\n    state.tuits = []; // empty tuits since we are still fetching them\n  }), _defineProperty(_extraReducers, findActivitiesThunk.fulfilled,\n  // when we get response, request is fulfilled\n  function (state, _ref) {\n    var payload = _ref.payload;\n    // we extract/destruct payload from action object\n    state.loading = false; // turn off loading flag since we have the data\n    state.tuits = payload; // payload has tuits from server and update redux state\n  }), _defineProperty(_extraReducers, findActivitiesThunk.rejected,\n  // if request times out, or responds with error\n  function (state, action) {\n    state.loading = false; // reset loading flag\n    state.error = action.error; // report error\n  }), _defineProperty(_extraReducers, deleteActivityThunk.fulfilled,\n  // handle successful response\n  function (state, _ref2) {\n    var payload = _ref2.payload;\n    // server response successful\n    state.loading = false; // payload from action contains tuit ID to remove\n    state.tuits = state.tuits // turn off loading flag\n    .filter(function (t) {\n      return t._id !== payload;\n    }); // filter out tuit whose ID matches tuit to remove\n  }), _defineProperty(_extraReducers, createActivityThunk.fulfilled,\n  // when server responds\n  function (state, _ref3) {\n    var payload = _ref3.payload;\n    // payload contains new tuit\n    state.loading = false; // clear loading flag\n    state.tuits.push(payload); // append new tuit to tuits array\n  }), _defineProperty(_extraReducers, updateActivityThunk.fulfilled,\n  // when server update is done\n  function (state, _ref4) {\n    var payload = _ref4.payload;\n    // payload contains updated tuit\n    state.loading = false; // clear loading flag\n    var tuitNdx = state.tuits // find index of updated tuit in array\n    .findIndex(function (t) {\n      return t._id === payload._id;\n    });\n    state.tuits[tuitNdx] = _objectSpread({}, state.tuits[tuitNdx], payload);\n  }), _extraReducers),\n  reducers: {}\n});\n\n/**     Following code blocks are A7 version \"tuitsSlice\".   */\n// const currentUser = {                        // create an object that represents the currently\n//     \"userName\": \"Novak Djokovic\",            // logged in user which contains profile information\n//     \"handle\": \"@DjokerNole\",                 // such as username, their avatar logo, and handle.\n//     \"image\": \"Novak_400x400.jpeg\",           // Later this will come from users login in.\n// };\n\n// const templateTuit = {                       // create a template tuit object with some default\n//     ...currentUser,                          // values and copy over the fields userName, handle and\n//     \"topic\": \"Programing\",                   // image from the currentUser\n//     \"time\": \"1min\",\n//     \"liked\": false,\n//     \"replies\": 0,\n//     \"retuits\": 0,\n//     \"likes\": 0,\n// }\n\n// const tuitsSlice = createSlice(\n//     {\n//         name: 'tuits',\n//         initialState: tuits,\n\n//         reducers: {                                 // add createTuit reducer function which appends\n//             createTuit(state, action) {             // the new tuit in the payload at the beginning of the\n//                 state.unshift({                     // array of tuits contained in the state. Also copy\n//                     ...action.payload,              // all fields from templateTuit and initialize\n//                     ...templateTuit,                // the unique identifier with a timestamp\n//                     _id: (new Date()).getTime(),\n//                 })\n//             },\n\n//             deleteTuit(state, action) {\n//                 const index = state.findIndex(tuit =>\n//                     tuit._id === action.payload);\n//                 state.splice(index, 1);\n//             },\n\n//             likedToggle(state, action) {\n//                 const tuit = state.find((tuit) =>\n//                     tuit._id === action.payload._id);\n//                 tuit.liked = !tuit.liked;\n//             }\n\n//         }\n//     }\n// );\n\nexport default tuitsSlice.reducer;\n// export const { createTuit, deleteTuit, likedToggle } = tuitsSlice.actions;     // export reducer function","map":{"version":3,"names":["createSlice","createActivityThunk","updateActivityThunk","findActivitiesThunk","deleteActivityThunk","initialState","activities","loading","tuitsSlice","name","extraReducers","pending","state","tuits","fulfilled","payload","rejected","action","error","filter","t","_id","push","tuitNdx","findIndex","reducers","reducer"],"sources":["/Users/tylerzhang/2023/spring/frontend-plus1/plus1-home/src/tuiter/tuits/tuits-reducer.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n// import tuits from '../data/tuits.json';\nimport { createActivityThunk, updateActivityThunk, findActivitiesThunk, deleteActivityThunk }       // import the thunks\n    from \"../../services/activities-thunks\";\n\n\nconst initialState = {          // initial state has no tuits \n    activities: [],                  // no tuits\n    loading: false              // loading flag to display spinner\n}\n\nconst tuitsSlice = createSlice({\n    name: 'activities',\n    initialState,               // same as \"initialState\": initialState\n    extraReducers: {            // define asynchronous reducers\n\n        [findActivitiesThunk.pending]:                       // if request is not yet fulfilled …\n            (state) => {\n                state.loading = true                    // set loading true so UI can display spinner\n                state.tuits = []                        // empty tuits since we are still fetching them\n            },\n\n        [findActivitiesThunk.fulfilled]:                     // when we get response, request is fulfilled\n            (state, { payload }) => {                   // we extract/destruct payload from action object\n                state.loading = false                   // turn off loading flag since we have the data\n                state.tuits = payload                   // payload has tuits from server and update redux state\n            },\n\n        [findActivitiesThunk.rejected]:                      // if request times out, or responds with error\n            (state, action) => {\n                state.loading = false                   // reset loading flag\n                state.error = action.error              // report error\n            },\n\n\n        [deleteActivityThunk.fulfilled]:                    // handle successful response\n            (state, { payload }) => {                   // server response successful\n                state.loading = false                   // payload from action contains tuit ID to remove\n                state.tuits = state.tuits               // turn off loading flag\n                    .filter(t => t._id !== payload)     // filter out tuit whose ID matches tuit to remove\n            },                                          // we're ignoring pending and rejected thunks\n\n\n        [createActivityThunk.fulfilled]:                    // when server responds\n            (state, { payload }) => {                   // payload contains new tuit\n                state.loading = false                   // clear loading flag\n                state.tuits.push(payload)               // append new tuit to tuits array\n            },                                          // we're ignoring pending and rejected thunks\n\n        [updateActivityThunk.fulfilled]:                    // when server update is done\n            (state, { payload }) => {                   // payload contains updated tuit\n                state.loading = false                   // clear loading flag\n                const tuitNdx = state.tuits             // find index of updated tuit in array\n                    .findIndex((t) => t._id === payload._id)\n                state.tuits[tuitNdx] = {                // merge old tuit with updated tuit\n                    ...state.tuits[tuitNdx],\n                    ...payload\n                }\n            }\n\n    },\n    reducers: {}\n});\n\n/**     Following code blocks are A7 version \"tuitsSlice\".   */\n// const currentUser = {                        // create an object that represents the currently\n//     \"userName\": \"Novak Djokovic\",            // logged in user which contains profile information\n//     \"handle\": \"@DjokerNole\",                 // such as username, their avatar logo, and handle.\n//     \"image\": \"Novak_400x400.jpeg\",           // Later this will come from users login in.\n// };\n\n// const templateTuit = {                       // create a template tuit object with some default\n//     ...currentUser,                          // values and copy over the fields userName, handle and\n//     \"topic\": \"Programing\",                   // image from the currentUser\n//     \"time\": \"1min\",\n//     \"liked\": false,\n//     \"replies\": 0,\n//     \"retuits\": 0,\n//     \"likes\": 0,\n// }\n\n// const tuitsSlice = createSlice(\n//     {\n//         name: 'tuits',\n//         initialState: tuits,\n\n//         reducers: {                                 // add createTuit reducer function which appends\n//             createTuit(state, action) {             // the new tuit in the payload at the beginning of the\n//                 state.unshift({                     // array of tuits contained in the state. Also copy\n//                     ...action.payload,              // all fields from templateTuit and initialize\n//                     ...templateTuit,                // the unique identifier with a timestamp\n//                     _id: (new Date()).getTime(),\n//                 })\n//             },\n\n//             deleteTuit(state, action) {\n//                 const index = state.findIndex(tuit =>\n//                     tuit._id === action.payload);\n//                 state.splice(index, 1);\n//             },\n\n//             likedToggle(state, action) {\n//                 const tuit = state.find((tuit) =>\n//                     tuit._id === action.payload._id);\n//                 tuit.liked = !tuit.liked;\n//             }\n\n//         }\n//     }\n// );\n\nexport default tuitsSlice.reducer;\n// export const { createTuit, deleteTuit, likedToggle } = tuitsSlice.actions;     // export reducer function"],"mappings":";;;AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C;AACA,OAAoG;AAAA,EAA3FC,mBAAmB,EAAEC,mBAAmB,EAAEC,mBAAmB,EAAEC,mBAAmB,QAClF,kCAAkC;AAG3C,IAAMC,YAAY,GAAG;EAAW;EAC5BC,UAAU,EAAE,EAAE;EAAmB;EACjCC,OAAO,EAAE,KAAK,CAAc;AAChC,CAAC;;AAED,IAAMC,UAAU,GAAGR,WAAW,CAAC;EAC3BS,IAAI,EAAE,YAAY;EAClBJ,YAAY,EAAZA,YAAY;EAAgB;EAC5BK,aAAa,wDAERP,mBAAmB,CAACQ,OAAO;EAAyB;EACjD,UAACC,KAAK,EAAK;IACPA,KAAK,CAACL,OAAO,GAAG,IAAI,EAAoB;IACxCK,KAAK,CAACC,KAAK,GAAG,EAAE,EAAwB;EAC5C,CAAC,mCAEJV,mBAAmB,CAACW,SAAS;EAAuB;EACjD,UAACF,KAAK,QAAkB;IAAA,IAAdG,OAAO,QAAPA,OAAO;IAA2B;IACxCH,KAAK,CAACL,OAAO,GAAG,KAAK,EAAmB;IACxCK,KAAK,CAACC,KAAK,GAAGE,OAAO,EAAmB;EAC5C,CAAC,mCAEJZ,mBAAmB,CAACa,QAAQ;EAAwB;EACjD,UAACJ,KAAK,EAAEK,MAAM,EAAK;IACfL,KAAK,CAACL,OAAO,GAAG,KAAK,EAAmB;IACxCK,KAAK,CAACM,KAAK,GAAGD,MAAM,CAACC,KAAK,EAAc;EAC5C,CAAC,mCAGJd,mBAAmB,CAACU,SAAS;EAAsB;EAChD,UAACF,KAAK,SAAkB;IAAA,IAAdG,OAAO,SAAPA,OAAO;IAA2B;IACxCH,KAAK,CAACL,OAAO,GAAG,KAAK,EAAmB;IACxCK,KAAK,CAACC,KAAK,GAAGD,KAAK,CAACC,KAAK,CAAe;IAAA,CACnCM,MAAM,CAAC,UAAAC,CAAC;MAAA,OAAIA,CAAC,CAACC,GAAG,KAAKN,OAAO;IAAA,EAAC,EAAK;EAC5C,CAAC,mCAGJd,mBAAmB,CAACa,SAAS;EAAsB;EAChD,UAACF,KAAK,SAAkB;IAAA,IAAdG,OAAO,SAAPA,OAAO;IAA2B;IACxCH,KAAK,CAACL,OAAO,GAAG,KAAK,EAAmB;IACxCK,KAAK,CAACC,KAAK,CAACS,IAAI,CAACP,OAAO,CAAC,EAAe;EAC5C,CAAC,mCAEJb,mBAAmB,CAACY,SAAS;EAAsB;EAChD,UAACF,KAAK,SAAkB;IAAA,IAAdG,OAAO,SAAPA,OAAO;IAA2B;IACxCH,KAAK,CAACL,OAAO,GAAG,KAAK,EAAmB;IACxC,IAAMgB,OAAO,GAAGX,KAAK,CAACC,KAAK,CAAa;IAAA,CACnCW,SAAS,CAAC,UAACJ,CAAC;MAAA,OAAKA,CAAC,CAACC,GAAG,KAAKN,OAAO,CAACM,GAAG;IAAA,EAAC;IAC5CT,KAAK,CAACC,KAAK,CAACU,OAAO,CAAC,qBACbX,KAAK,CAACC,KAAK,CAACU,OAAO,CAAC,EACpBR,OAAO,CACb;EACL,CAAC,kBAER;EACDU,QAAQ,EAAE,CAAC;AACf,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,eAAejB,UAAU,CAACkB,OAAO;AACjC"},"metadata":{},"sourceType":"module"}